{"componentChunkName":"component---antv-gatsby-theme-antv-site-templates-tutorial-tsx","path":"/zh/tutorials/dataSet-more","result":{"data":{"site":{"siteMetadata":{"title":"Choerodon UI","githubUrl":"https://github.com/open-hand/choerodon-ui","tutorials":[]},"pathPrefix":"/choerodon-ui"},"markdownRemark":{"html":"<p>前几章中介绍了 DS 对象概念，本章将介绍以下几个属性并对其扩展对象做详解介绍：</p>\n<ol>\n<li>field</li>\n<li>record</li>\n<li>transport</li>\n<li>dataToJSON</li>\n</ol>\n<h1 id=\"dataset-methods\" style=\"position:relative;\"><a href=\"#dataset-methods\" aria-label=\"dataset methods permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DataSet methods</h1>\n<p>DataSet 实例化后的对象具有很多方法 - DataSet Methods，用于操纵 DataSet 中的关联对象以及实现各种请求、加载、数据转化等操作。</p>\n<p>DataSet 方法操作对象可分三类：</p>\n<ol>\n<li>\n<p>DataSet 本身</p>\n<ol>\n<li>与后端交互 - query、submit、setQueryParameter、loadData、page ...</li>\n<li>状态、数据获取 - ready、toData、toJSONData...</li>\n<li>数据定位 - locate、page、first、prePage ...</li>\n</ol>\n</li>\n<li>\n<p>Field 对象</p>\n<ol>\n<li>getField(fieldName) - 获取字段对象</li>\n<li>addField(fieldName, fieldProps)  - 更新、新增字段</li>\n</ol>\n</li>\n<li>\n<p>records数组</p>\n<ol>\n<li>记录数组的增删选择 - create、delete、remove、select ...</li>\n<li>记录数组的迭代方法 - push、shift、map、forEach ...</li>\n</ol>\n</li>\n</ol>\n<p>对应的关联对象也拥有自己的方法属性等。</p>\n<h1 id=\"fields\" style=\"position:relative;\"><a href=\"#fields\" aria-label=\"fields permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>fields</h1>\n<blockquote>\n<p>官网文档描述：字段属性数组，详见<a href=\"/choerodon-ui/zh/procmp/dataset/dataset#field-props\">Field Props</a>。</p>\n</blockquote>\n<p>字段属性数值，在 DS 实例化后对应配置生成 field 对象，field 对象方法。</p>\n<p>如官网 API 文档，field 对象有自己的属性（props）、值（values）、方法（method）。那么这三类 API 能怎么具体在何时使用呢？并且有什么效果呢？</p>\n<h2 id=\"field-props\" style=\"position:relative;\"><a href=\"#field-props\" aria-label=\"field props permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>field props</h2>\n<p>DataSet 配置中对字段信息属性配置。</p>\n<blockquote>\n<p>注意：部分字段属性优先级高于组件属性。</p>\n<p>例如 required 属性，字段配置必输，组件配置 required={false}，此时存在冲突会应用字段上的配置。</p>\n<p>原因在于 DS 可关联多个组件并做提交等与后端交互的操作，控制范围广且状态与后端交互，因此属性冲突时 DS 优先级更高。</p>\n<p>以下是开发中几个最常用的属性（关于 Lov/Lookup 类后续做详细说明）：</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">name</td>\n<td align=\"left\">字段名</td>\n<td align=\"left\">string</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">type</td>\n<td align=\"left\">字段类型，可选值:boolean | number | string | date | dateTime | time | week | month | year | email | url | intl | object |attachment | json | bigNumber</td>\n<td align=\"left\">string</td>\n<td align=\"left\">string</td>\n</tr>\n<tr>\n<td align=\"left\">required</td>\n<td align=\"left\">是否必选</td>\n<td align=\"left\">boolean</td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\">computedProps</td>\n<td align=\"left\">计算属性对象。功能和用法同 dynamicProps，具有 mobx computed 的缓存功能，避免重复计算，提高性能。请确保计算依赖的值是可观察的。</td>\n<td align=\"left\">{ fieldProp: ({ dataSet, record, name }) => value }</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">ignore</td>\n<td align=\"left\">忽略提交, 可选值:always- 总是忽略clean- 值未变化时忽略never- 从不忽略</td>\n<td align=\"left\">string</td>\n<td align=\"left\">never</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"name\" style=\"position:relative;\"><a href=\"#name\" aria-label=\"name permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>name</h3>\n<blockquote>\n<p>对应需要处理的后端字段名</p>\n</blockquote>\n<h3 id=\"type\" style=\"position:relative;\"><a href=\"#type\" aria-label=\"type permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>type</h3>\n<blockquote>\n<p>字段值类型。用于处理值类型以及组件库内根据 type 关联渲染对应组件类型。</p>\n</blockquote>\n<p>例如上一章 Table active 状态字段，type: 'boolean'  表格内渲染组件类型为 Checkbox。</p>\n<p>其它对应关系如下：</p>\n<ul>\n<li>number - <a href=\"/choerodon-ui/zh/procmp/data-entry/number-field\">NumberField</a></li>\n<li>string - <a href=\"/choerodon-ui/zh/procmp/data-entry/text-field\">TextField</a> | <a href=\"/choerodon-ui/zh/procmp/data-entry/select\">Select</a></li>\n<li>date - <a href=\"/choerodon-ui/zh/procmp/data-entry/date-picker\">DatePicker</a></li>\n<li>dateTime - <a href=\"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\">DateTimePicker</a></li>\n<li>time - <a href=\"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\">TimePicker</a></li>\n<li>week - <a href=\"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\">WeekPicker</a></li>\n<li>month - <a href=\"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\">MonthPicker</a></li>\n<li>year - <a href=\"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8\">YearPicker</a></li>\n<li>email - <a href=\"/choerodon-ui/zh/procmp/data-entry/email-field\">EmailField</a></li>\n<li>url - <a href=\"/choerodon-ui/zh/procmp/data-entry/url-field\">UrlField</a></li>\n<li>intl - <a href=\"/choerodon-ui/zh/procmp/data-entry/intl-field\">IntlField</a></li>\n<li>object - <a href=\"/choerodon-ui/zh/procmp/data-entry/select\">Select</a> | <a href=\"/choerodon-ui/zh/procmp/data-entry/lov\">Lov</a></li>\n</ul>\n<p>可以发现以上 type 对应组件类型有多个情况，并且实际应用时可能也需要更多类型的组件支持，那么这种情况组件库如何处理？是否支持?</p>\n<p>回答是当然支持。如何支持后续章节结合案例实践吧。</p>\n<h3 id=\"required\" style=\"position:relative;\"><a href=\"#required\" aria-label=\"required permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>required</h3>\n<blockquote>\n<p>是否必输。</p>\n</blockquote>\n<p>配置字段是否必输，如果为 true（必输），那么在使用 DS 提交或者调用相关校验方法时会校验值是否存在。</p>\n<p>同类型属性还有：readOnly | disabled ...</p>\n<p>对应更多自定义校验需求可以使用属性validator -校验器，当返回值为 false 或 涵盖错误信息的字符串，则为校验失败。</p>\n<h3 id=\"dynamicprops\" style=\"position:relative;\"><a href=\"#dynamicprops\" aria-label=\"dynamicprops permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dynamicProps</h3>\n<blockquote>\n<p>动态属性对象。对象为字段属性和返回该字段值的钩子的键值对。</p>\n</blockquote>\n<p>表面含义，动态配置属性，类型为：{ fieldProp: ({ dataSet, record, name }) => value }</p>\n<p>例如上面的必输属性动态配置：</p>\n<div class=\"gatsby-highlight\" data-language=\"plain\"><pre class=\"language-plain\"><code class=\"language-plain\">// 当字段满足 xxx 条件时，该字段必输\ndynamicProps: { \n  required: ({ dataSet, record, name }) =&gt; {\n    if(xxx) {\n      return true;\n    }\n  },\n}</code></pre></div>\n<blockquote>\n<p>注意：尽量在必要的场景才使用 dynamicProps，动态属性在组件库内部需要做逻辑判断才能确保属性动态处理正确，无意义的动态属性会造成性能问题。</p>\n</blockquote>\n<h3 id=\"computedprops\" style=\"position:relative;\"><a href=\"#computedprops\" aria-label=\"computedprops permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>computedProps</h3>\n<p>计算属性对象。功能和用法同 dynamicProps，具有 mobx computed 的缓存功能，一般用于计算量大的场景，避免重复计算，提高性能。请确保计算依赖的值是可观察的。</p>\n<h3 id=\"ignore\" style=\"position:relative;\"><a href=\"#ignore\" aria-label=\"ignore permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ignore</h3>\n<blockquote>\n<p>忽略提交, 可选值: always - 总是忽略 clean - 值未变化时忽略 never - 从不忽略</p>\n</blockquote>\n<p>默认值：never，含义是字段在于后端交互时，DataSet 提交数据中从不忽略该字段。举个例子：字段名 name，我们需要将修改后的 name 提及给后端，如果当前字段仅前端使用到，不需要通过接口传给后端，那么 ignore 可配置为 always。</p>\n<h3 id=\"field-对象\" style=\"position:relative;\"><a href=\"#field-%E5%AF%B9%E8%B1%A1\" aria-label=\"field 对象 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>field 对象</h3>\n<p>DataSet 实例化后 field 字段对象常用方法如下。用于处理实例后字段配置或功能的调用。</p>\n<blockquote>\n<p>当 field 是通过 ds.getField 获取的字段时， 以上传了 record 参数的方法等同于调用了通过 record.getField 得到的 field 对应的方法。</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">类型</th>\n<th align=\"left\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">get(propsName)</td>\n<td align=\"left\">根据属性名获取属性值</td>\n<td align=\"left\">propsName- 属性名</td>\n<td align=\"left\">any</td>\n</tr>\n<tr>\n<td align=\"left\">set(propsName, value)</td>\n<td align=\"left\">设置属性值</td>\n<td align=\"left\">propsName- 属性名；value- 属性值</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">reset()</td>\n<td align=\"left\">重置设置的属性</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">checkValidity()</td>\n<td align=\"left\">校验字段值</td>\n<td align=\"left\"></td>\n<td align=\"left\">boolean</td>\n</tr>\n<tr>\n<td align=\"left\">getValue()</td>\n<td align=\"left\">获取当前记录的本字段值</td>\n<td align=\"left\"></td>\n<td align=\"left\">any</td>\n</tr>\n<tr>\n<td align=\"left\">isValid()</td>\n<td align=\"left\">是否校验通过</td>\n<td align=\"left\"></td>\n<td align=\"left\">boolean</td>\n</tr>\n<tr>\n<td align=\"left\">getValidationMessage()</td>\n<td align=\"left\">获取校验信息</td>\n<td align=\"left\"></td>\n<td align=\"left\">string</td>\n</tr>\n<tr>\n<td align=\"left\">transformRequest</td>\n<td align=\"left\">在发送请求之前对数据进行处理</td>\n<td align=\"left\">(value: any, record: Record) => any</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">transformResponse</td>\n<td align=\"left\">在获得响应之后对数据进行处理</td>\n<td align=\"left\">(value: any, object: any) => any</td>\n<td align=\"left\"></td>\n</tr>\n</tbody>\n</table>\n<p>注意：field 对象获取：</p>\n<ol>\n<li>ds.getField(fieldName) —— 根据字段名获取字段</li>\n<li>dsField.get(name, record) | record.getField(fieldName) —— 1.5.0-beta.0 版本后尽量使用 dataSet.getField 来提高性能, 如果要获取 recordField 的属性， 可以使用 dsField.get(name, record)</li>\n</ol>\n<p>他们的区别在于 record 获取到的字段对象用于满足区别不同数据记录之间对字段的不同配置操作需求。</p>\n<p>例如：列表中存在两行数据，存在字段 name 和 age。需求为当输入 age 大于 18 时 name 字段值必输。此时操作就属于当前 record 对象的更新字段对象属性，可写为：ds.getField.get('name', record).set('required ', true)。这样便不影响其他未输入和不满足需求 record 字段配置。</p>\n<h1 id=\"record-对象\" style=\"position:relative;\"><a href=\"#record-%E5%AF%B9%E8%B1%A1\" aria-label=\"record 对象 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>record 对象</h1>\n<blockquote>\n<p>DataSet 数据源中存储的记录，可以理解成数据库中的一条记录。在 DataSet 实例化后初始化成 record 对象，具有值及方法。</p>\n</blockquote>\n<h2 id=\"record-values\" style=\"position:relative;\"><a href=\"#record-values\" aria-label=\"record values permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>record values</h2>\n<p>将普通数据实例化为保存在 DataSet 中的 record 对象，常用的 record 对象值有以下，更多参考 record values。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">id</td>\n<td align=\"left\">唯一 ID，自增长的数字</td>\n<td align=\"left\">number</td>\n</tr>\n<tr>\n<td align=\"left\">key</td>\n<td align=\"left\">唯一键，主键字段或唯一索引键字段的值，默认同 id</td>\n<td align=\"left\">string | number</td>\n</tr>\n<tr>\n<td align=\"left\">status</td>\n<td align=\"left\">状态， 可选值add | update | delete | sync</td>\n<td align=\"left\">observable<string></td>\n</tr>\n<tr>\n<td align=\"left\">selectable</td>\n<td align=\"left\">可选</td>\n<td align=\"left\">observable<boolean></td>\n</tr>\n<tr>\n<td align=\"left\">isSelected</td>\n<td align=\"left\">是否选中</td>\n<td align=\"left\">observable<boolean></td>\n</tr>\n<tr>\n<td align=\"left\">isCurrent</td>\n<td align=\"left\">是否当前记录</td>\n<td align=\"left\">observable<boolean></td>\n</tr>\n<tr>\n<td align=\"left\">dirty</td>\n<td align=\"left\">数据是否发生变更， 包含级联数据源是否变更</td>\n<td align=\"left\">boolean</td>\n</tr>\n<tr>\n<td align=\"left\">index</td>\n<td align=\"left\">在数据源中的索引</td>\n<td align=\"left\">number</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"record-methods\" style=\"position:relative;\"><a href=\"#record-methods\" aria-label=\"record methods permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>record methods</h2>\n<p>日常开发中操作最频繁的就是数据，使用 c7n-ui 便对应操作数据对象 record。</p>\n<p>record 对象的每一个方法使用频率都不低，这里简单介绍一下setState、getState 这对方法组。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">属性名</th>\n<th align=\"left\">描述</th>\n<th align=\"left\">类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">setState(key, value)</td>\n<td align=\"left\">设置自定义状态值。</td>\n<td align=\"left\">key- 键名或者键值对对象；value- 值</td>\n</tr>\n<tr>\n<td align=\"left\">getState(key)</td>\n<td align=\"left\">获取自定义状态值。</td>\n<td align=\"left\">key- 键名<br></td>\n</tr>\n</tbody>\n</table>\n<p>这对方法和原生 react 自带的 state 管理方法很类似。区别在于其挂载在 record 对象上，什么意思？我们可以将自定义状态值挂载在一条数据对象上。</p>\n<p>例如：控制可编辑表格行内编辑。使用原生 state 变量 editing，在处理多条数据的不同可编辑状态时比较麻烦，需要构造对应行及其编辑状态的对象数组。此时使用 record 对象下状态值的自定义，直接调用当前 record.getState('editing') 即可区别不同数据不同编辑状态，方便易用。</p>\n<p>注意：get(fieldName) —— 根据字段名获取字段值或根据字段名数组获取字段名与字段值的对象。注意：禁止通过 record.data[fieldName]的方式获取字段值。</p>\n<h1 id=\"transport\" style=\"position:relative;\"><a href=\"#transport\" aria-label=\"transport permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Transport</h1>\n<blockquote>\n<p>DataSet 与后端接口交互的“中间传输站”。</p>\n</blockquote>\n<p>DataSet 中内置了一套默认的接口规范。DataSet 的 name 属性配置可对应后端的 name（约定的相关 key），自动生成约定的 submitUrl, queryUrl, tlsUrl, validateUrl 等。前后端规范统一便不需要配置 “中间站” transport，接口不一致便需要前端配置接口。</p>\n<p>例如：</p>\n<ol>\n<li>\n<p>前后端规范统一，前端 DataSet 配置中 name 属性与后端对应。那么调用 ds.query()，对应调用的 queryUrl 为：<code class=\"language-text\">/dataset/${this.name}/queries</code></p>\n<ol>\n<li>submitUrl:<code class=\"language-text\">/dataset/${this.name}/mutations</code></li>\n<li>validateUrl:<code class=\"language-text\">/dataset/${this.name}/validate</code></li>\n</ol>\n</li>\n</ol>\n<p>约定生成的 url 格式即为：<code class=\"language-text\">/dataset/${this.name}/xxx</code>，且请求类型均为 POST</p>\n<ol start=\"2\">\n<li>后端有单独的一套规范，可使用：adapterCRUD 配置适配器 - (config: AxiosRequestConfig, type: string) => AxiosRequestConfig；支持全局配置使用。</li>\n</ol>\n<p>例如：</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">defaultAdapter</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">config<span class=\"token operator\">:</span> AxiosRequestConfig<span class=\"token punctuation\">,</span> type<span class=\"token operator\">:</span> string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 使用 switch case 或 策略模式处理</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'read'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        url<span class=\"token operator\">:</span> <span class=\"token string\">'xxx'</span><span class=\"token punctuation\">,</span>\n        method<span class=\"token operator\">:</span> <span class=\"token string\">'get'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'create'</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n          url<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">xxx</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          method<span class=\"token operator\">:</span> <span class=\"token string\">'put'</span><span class=\"token punctuation\">,</span>\n          data<span class=\"token operator\">:</span> data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'update'</span><span class=\"token operator\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// url: `xxx`,</span>\n          method<span class=\"token operator\">:</span> <span class=\"token string\">'put'</span><span class=\"token punctuation\">,</span>\n          data<span class=\"token operator\">:</span> data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'destroy'</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        url<span class=\"token operator\">:</span> <span class=\"token string\">'xxx'</span><span class=\"token punctuation\">,</span>\n        data<span class=\"token operator\">:</span> data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        method<span class=\"token operator\">:</span> <span class=\"token string\">'delete'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"3\">\n<li>后端规范不一，情况多变；前端需要特殊处理：在 DataSet 配置中配置 transport 或对应 url 属性。例如：</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 配置 transport</span>\ntransport<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">create</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    url<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">xxx</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">update</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> params <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    url<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">xxx</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    method<span class=\"token operator\">:</span> <span class=\"token string\">'put'</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token operator\">:</span> data<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    params<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>params<span class=\"token punctuation\">,</span> ss<span class=\"token operator\">:</span> <span class=\"token string\">'xx'</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token comment\">// 仅配置queryUrl</span>\nqueryUrl<span class=\"token operator\">:</span> <span class=\"token string\">'xxx'</span></code></pre></div>\n<p>注意：组件库内默认请求类型均为 POST，所以在调用 DataSet 设置相关查询参数的方法时，在 transport 处理返回 axiosConfig 的回调中，setQueryParameter(para, value)\t设置查询参数值均在 data 对象中，method 类型为 GET 时，需要注意参数的转化传递。</p>\n<h1 id=\"datatojson\" style=\"position:relative;\"><a href=\"#datatojson\" aria-label=\"datatojson permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dataToJSON</h1>\n<p>dataToJSON 是 DataSet 的属性配置之一。用于配置 DataSet 数据转化规则。</p>\n<p>在调用 DataSet.toJSONData() 时应用，配置后与后端数据交互同理。</p>\n<table>\n<thead>\n<tr>\n<th>枚举值</th>\n<th>说明</th>\n<th>版本</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>dirty</td>\n<td>只转换变更的数据，包括本身无变更但级联有变更的数据</td>\n<td></td>\n</tr>\n<tr>\n<td>dirty-field</td>\n<td>只转数据中变更了的字段（包括主键和unique以及ignore为never的字段），包括本身无变更但级联有变更的数据</td>\n<td>1.4.2</td>\n</tr>\n<tr>\n<td>selected</td>\n<td>只转换选中的数据，无关数据的变更状态</td>\n<td></td>\n</tr>\n<tr>\n<td>all</td>\n<td>转换所有数据</td>\n<td></td>\n</tr>\n<tr>\n<td>normal</td>\n<td>转换所有数据为普通 json，不会带上__status, __id 等附加字段，也不会出现临时删除的数据， 一般用于大 JSON 字段</td>\n<td></td>\n</tr>\n<tr>\n<td>dirty-self</td>\n<td>同 dirty， 但不转换级联数据</td>\n<td></td>\n</tr>\n<tr>\n<td>dirty-field-self</td>\n<td>同 dirty-field， 但不转换级联数据</td>\n<td>1.4.2</td>\n</tr>\n<tr>\n<td>selected-self</td>\n<td>同 selected， 但不转换级联数据</td>\n<td></td>\n</tr>\n<tr>\n<td>all-self</td>\n<td>同 all， 但不转换级联数据</td>\n<td></td>\n</tr>\n<tr>\n<td>normal-self</td>\n<td>同 normal， 但不转换级联数据</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>本章挑选几个重点属性、方法做了场景描述，下面我们来实践一下，对我们上一章的 Table 做一些功能扩展。</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"前几章中介绍了 DS 对象概念，本章将介绍以下几个属性并对其扩展对象做详解介绍："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"field"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"record"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"transport"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"dataToJSON"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"dataset-methods","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#dataset-methods","ariaLabel":"dataset methods permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"DataSet methods"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DataSet 实例化后的对象具有很多方法 - DataSet Methods，用于操纵 DataSet 中的关联对象以及实现各种请求、加载、数据转化等操作。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DataSet 方法操作对象可分三类："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DataSet 本身"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"与后端交互 - query、submit、setQueryParameter、loadData、page ..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"状态、数据获取 - ready、toData、toJSONData..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"数据定位 - locate、page、first、prePage ..."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Field 对象"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"getField(fieldName) - 获取字段对象"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"addField(fieldName, fieldProps)  - 更新、新增字段"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"records数组"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"记录数组的增删选择 - create、delete、remove、select ..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"记录数组的迭代方法 - push、shift、map、forEach ..."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"对应的关联对象也拥有自己的方法属性等。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"fields","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#fields","ariaLabel":"fields permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"fields"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"官网文档描述：字段属性数组，详见"},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/dataset/dataset#field-props"},"children":[{"type":"text","value":"Field Props"}]},{"type":"text","value":"。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"字段属性数值，在 DS 实例化后对应配置生成 field 对象，field 对象方法。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"如官网 API 文档，field 对象有自己的属性（props）、值（values）、方法（method）。那么这三类 API 能怎么具体在何时使用呢？并且有什么效果呢？"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"field-props","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#field-props","ariaLabel":"field props permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"field props"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DataSet 配置中对字段信息属性配置。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"注意：部分字段属性优先级高于组件属性。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"例如 required 属性，字段配置必输，组件配置 required={false}，此时存在冲突会应用字段上的配置。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"原因在于 DS 可关联多个组件并做提交等与后端交互的操作，控制范围广且状态与后端交互，因此属性冲突时 DS 优先级更高。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"以下是开发中几个最常用的属性（关于 Lov/Lookup 类后续做详细说明）："}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"属性名"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"描述"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"类型"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"默认值"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"name"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"字段名"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"type"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"字段类型，可选值:boolean | number | string | date | dateTime | time | week | month | year | email | url | intl | object |attachment | json | bigNumber"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"required"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"是否必选"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"boolean"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"computedProps"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"计算属性对象。功能和用法同 dynamicProps，具有 mobx computed 的缓存功能，避免重复计算，提高性能。请确保计算依赖的值是可观察的。"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"{ fieldProp: ({ dataSet, record, name }) => value }"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"ignore"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"忽略提交, 可选值:always- 总是忽略clean- 值未变化时忽略never- 从不忽略"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"string"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"never"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"name","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#name","ariaLabel":"name permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"name"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"对应需要处理的后端字段名"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"type","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#type","ariaLabel":"type permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"type"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"字段值类型。用于处理值类型以及组件库内根据 type 关联渲染对应组件类型。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"例如上一章 Table active 状态字段，type: 'boolean'  表格内渲染组件类型为 Checkbox。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"其它对应关系如下："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"number - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/number-field"},"children":[{"type":"text","value":"NumberField"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"string - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/text-field"},"children":[{"type":"text","value":"TextField"}]},{"type":"text","value":" | "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/select"},"children":[{"type":"text","value":"Select"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"date - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/date-picker"},"children":[{"type":"text","value":"DatePicker"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"dateTime - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"},"children":[{"type":"text","value":"DateTimePicker"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"time - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"},"children":[{"type":"text","value":"TimePicker"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"week - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"},"children":[{"type":"text","value":"WeekPicker"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"month - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"},"children":[{"type":"text","value":"MonthPicker"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"year - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/date-picker#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"},"children":[{"type":"text","value":"YearPicker"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"email - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/email-field"},"children":[{"type":"text","value":"EmailField"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"url - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/url-field"},"children":[{"type":"text","value":"UrlField"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"intl - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/intl-field"},"children":[{"type":"text","value":"IntlField"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"object - "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/select"},"children":[{"type":"text","value":"Select"}]},{"type":"text","value":" | "},{"type":"element","tagName":"a","properties":{"href":"/choerodon-ui/zh/procmp/data-entry/lov"},"children":[{"type":"text","value":"Lov"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"可以发现以上 type 对应组件类型有多个情况，并且实际应用时可能也需要更多类型的组件支持，那么这种情况组件库如何处理？是否支持?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"回答是当然支持。如何支持后续章节结合案例实践吧。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"required","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#required","ariaLabel":"required permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"required"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"是否必输。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"配置字段是否必输，如果为 true（必输），那么在使用 DS 提交或者调用相关校验方法时会校验值是否存在。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"同类型属性还有：readOnly | disabled ..."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"对应更多自定义校验需求可以使用属性validator -校验器，当返回值为 false 或 涵盖错误信息的字符串，则为校验失败。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"dynamicprops","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#dynamicprops","ariaLabel":"dynamicprops permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"dynamicProps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"动态属性对象。对象为字段属性和返回该字段值的钩子的键值对。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"表面含义，动态配置属性，类型为：{ fieldProp: ({ dataSet, record, name }) => value }"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"例如上面的必输属性动态配置："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"plain"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-plain"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-plain"]},"children":[{"type":"text","value":"// 当字段满足 xxx 条件时，该字段必输\ndynamicProps: { \n  required: ({ dataSet, record, name }) => {\n    if(xxx) {\n      return true;\n    }\n  },\n}"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"注意：尽量在必要的场景才使用 dynamicProps，动态属性在组件库内部需要做逻辑判断才能确保属性动态处理正确，无意义的动态属性会造成性能问题。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"computedprops","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#computedprops","ariaLabel":"computedprops permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"computedProps"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"计算属性对象。功能和用法同 dynamicProps，具有 mobx computed 的缓存功能，一般用于计算量大的场景，避免重复计算，提高性能。请确保计算依赖的值是可观察的。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"ignore","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#ignore","ariaLabel":"ignore permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"ignore"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"忽略提交, 可选值: always - 总是忽略 clean - 值未变化时忽略 never - 从不忽略"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"默认值：never，含义是字段在于后端交互时，DataSet 提交数据中从不忽略该字段。举个例子：字段名 name，我们需要将修改后的 name 提及给后端，如果当前字段仅前端使用到，不需要通过接口传给后端，那么 ignore 可配置为 always。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"field-对象","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#field-%E5%AF%B9%E8%B1%A1","ariaLabel":"field 对象 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"field 对象"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DataSet 实例化后 field 字段对象常用方法如下。用于处理实例后字段配置或功能的调用。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"当 field 是通过 ds.getField 获取的字段时， 以上传了 record 参数的方法等同于调用了通过 record.getField 得到的 field 对应的方法。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"属性名"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"描述"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"类型"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"默认值"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"get(propsName)"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"根据属性名获取属性值"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"propsName- 属性名"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"any"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"set(propsName, value)"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"设置属性值"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"propsName- 属性名；value- 属性值"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"reset()"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"重置设置的属性"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"checkValidity()"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"校验字段值"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"boolean"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"getValue()"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"获取当前记录的本字段值"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"any"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"isValid()"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"是否校验通过"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"boolean"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"getValidationMessage()"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"获取校验信息"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"transformRequest"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"在发送请求之前对数据进行处理"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"(value: any, record: Record) => any"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"transformResponse"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"在获得响应之后对数据进行处理"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"(value: any, object: any) => any"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"注意：field 对象获取："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ds.getField(fieldName) —— 根据字段名获取字段"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"dsField.get(name, record) | record.getField(fieldName) —— 1.5.0-beta.0 版本后尽量使用 dataSet.getField 来提高性能, 如果要获取 recordField 的属性， 可以使用 dsField.get(name, record)"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"他们的区别在于 record 获取到的字段对象用于满足区别不同数据记录之间对字段的不同配置操作需求。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"例如：列表中存在两行数据，存在字段 name 和 age。需求为当输入 age 大于 18 时 name 字段值必输。此时操作就属于当前 record 对象的更新字段对象属性，可写为：ds.getField.get('name', record).set('required ', true)。这样便不影响其他未输入和不满足需求 record 字段配置。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"record-对象","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#record-%E5%AF%B9%E8%B1%A1","ariaLabel":"record 对象 permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"record 对象"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DataSet 数据源中存储的记录，可以理解成数据库中的一条记录。在 DataSet 实例化后初始化成 record 对象，具有值及方法。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"record-values","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#record-values","ariaLabel":"record values permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"record values"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"将普通数据实例化为保存在 DataSet 中的 record 对象，常用的 record 对象值有以下，更多参考 record values。"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"属性名"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"描述"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"类型"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"id"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"唯一 ID，自增长的数字"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"number"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"key"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"唯一键，主键字段或唯一索引键字段的值，默认同 id"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"string | number"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"status"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"状态， 可选值add | update | delete | sync"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"observable"},{"type":"element","tagName":"string","properties":{},"children":[]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"selectable"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"可选"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"observable"},{"type":"element","tagName":"boolean","properties":{},"children":[]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"isSelected"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"是否选中"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"observable"},{"type":"element","tagName":"boolean","properties":{},"children":[]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"isCurrent"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"是否当前记录"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"observable"},{"type":"element","tagName":"boolean","properties":{},"children":[]}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"dirty"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"数据是否发生变更， 包含级联数据源是否变更"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"boolean"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"index"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"在数据源中的索引"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"number"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"record-methods","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#record-methods","ariaLabel":"record methods permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"record methods"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"日常开发中操作最频繁的就是数据，使用 c7n-ui 便对应操作数据对象 record。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"record 对象的每一个方法使用频率都不低，这里简单介绍一下setState、getState 这对方法组。"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"属性名"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"描述"}]},{"type":"element","tagName":"th","properties":{"align":"left"},"children":[{"type":"text","value":"类型"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"setState(key, value)"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"设置自定义状态值。"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"key- 键名或者键值对对象；value- 值"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"getState(key)"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"获取自定义状态值。"}]},{"type":"element","tagName":"td","properties":{"align":"left"},"children":[{"type":"text","value":"key- 键名"},{"type":"element","tagName":"br","properties":{},"children":[]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这对方法和原生 react 自带的 state 管理方法很类似。区别在于其挂载在 record 对象上，什么意思？我们可以将自定义状态值挂载在一条数据对象上。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"例如：控制可编辑表格行内编辑。使用原生 state 变量 editing，在处理多条数据的不同可编辑状态时比较麻烦，需要构造对应行及其编辑状态的对象数组。此时使用 record 对象下状态值的自定义，直接调用当前 record.getState('editing') 即可区别不同数据不同编辑状态，方便易用。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"注意：get(fieldName) —— 根据字段名获取字段值或根据字段名数组获取字段名与字段值的对象。注意：禁止通过 record.data[fieldName]的方式获取字段值。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"transport","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#transport","ariaLabel":"transport permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Transport"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DataSet 与后端接口交互的“中间传输站”。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DataSet 中内置了一套默认的接口规范。DataSet 的 name 属性配置可对应后端的 name（约定的相关 key），自动生成约定的 submitUrl, queryUrl, tlsUrl, validateUrl 等。前后端规范统一便不需要配置 “中间站” transport，接口不一致便需要前端配置接口。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"例如："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"前后端规范统一，前端 DataSet 配置中 name 属性与后端对应。那么调用 ds.query()，对应调用的 queryUrl 为："},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/dataset/${this.name}/queries"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"submitUrl:"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/dataset/${this.name}/mutations"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"validateUrl:"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/dataset/${this.name}/validate"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"约定生成的 url 格式即为："},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/dataset/${this.name}/xxx"}]},{"type":"text","value":"，且请求类型均为 POST"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":2},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"后端有单独的一套规范，可使用：adapterCRUD 配置适配器 - (config: AxiosRequestConfig, type: string) => AxiosRequestConfig；支持全局配置使用。"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"例如："}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"defaultAdapter"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"config"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" AxiosRequestConfig"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" type"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" string"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 使用 switch case 或 策略模式处理"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"switch"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"type"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"case"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'read'"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        url"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'xxx'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        method"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'get'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"case"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'create'"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n          url"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","template-string"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"xxx"}]},{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          method"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'put'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          data"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"case"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'update'"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n          "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// url: `xxx`,"}]},{"type":"text","value":"\n          method"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'put'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n          data"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"case"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'destroy'"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        url"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'xxx'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        data"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        method"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'delete'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":3},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"后端规范不一，情况多变；前端需要特殊处理：在 DataSet 配置中配置 transport 或对应 url 属性。例如："}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 配置 transport"}]},{"type":"text","value":"\ntransport"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"create"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" data "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    url"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","template-string"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"xxx"}]},{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    data"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"update"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" params "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    url"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","template-string"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"xxx"}]},{"type":"element","tagName":"span","properties":{"className":["token","template-punctuation","string"]},"children":[{"type":"text","value":"`"}]}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    method"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'put'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    data"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" data"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"0"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    params"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"params"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" ss"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'xx'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// 仅配置queryUrl"}]},{"type":"text","value":"\nqueryUrl"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'xxx'"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"注意：组件库内默认请求类型均为 POST，所以在调用 DataSet 设置相关查询参数的方法时，在 transport 处理返回 axiosConfig 的回调中，setQueryParameter(para, value)\t设置查询参数值均在 data 对象中，method 类型为 GET 时，需要注意参数的转化传递。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h1","properties":{"id":"datatojson","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#datatojson","ariaLabel":"datatojson permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"dataToJSON"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"dataToJSON 是 DataSet 的属性配置之一。用于配置 DataSet 数据转化规则。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在调用 DataSet.toJSONData() 时应用，配置后与后端数据交互同理。"}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tagName":"table","properties":{},"children":[{"type":"element","tagName":"thead","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"枚举值"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"说明"}]},{"type":"element","tagName":"th","properties":{},"children":[{"type":"text","value":"版本"}]}]}]},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"dirty"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"只转换变更的数据，包括本身无变更但级联有变更的数据"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"dirty-field"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"只转数据中变更了的字段（包括主键和unique以及ignore为never的字段），包括本身无变更但级联有变更的数据"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"1.4.2"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"selected"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"只转换选中的数据，无关数据的变更状态"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"all"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"转换所有数据"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"normal"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"转换所有数据为普通 json，不会带上__status, __id 等附加字段，也不会出现临时删除的数据， 一般用于大 JSON 字段"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"dirty-self"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"同 dirty， 但不转换级联数据"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"dirty-field-self"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"同 dirty-field， 但不转换级联数据"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"1.4.2"}]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"selected-self"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"同 selected， 但不转换级联数据"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"all-self"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"同 all， 但不转换级联数据"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"normal-self"}]},{"type":"element","tagName":"td","properties":{},"children":[{"type":"text","value":"同 normal， 但不转换级联数据"}]},{"type":"element","tagName":"td","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"本章挑选几个重点属性、方法做了场景描述，下面我们来实践一下，对我们上一章的 Table 做一些功能扩展。"}]}],"data":{"quirksMode":false}},"tableOfContents":"<ul>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#dataset-methods\">DataSet methods</a></li>\n<li>\n<p><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#fields\">fields</a></p>\n<ul>\n<li>\n<p><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#field-props\">field props</a></p>\n<ul>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#name\">name</a></li>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#type\">type</a></li>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#required\">required</a></li>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#dynamicprops\">dynamicProps</a></li>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#computedprops\">computedProps</a></li>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#ignore\">ignore</a></li>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#field-%E5%AF%B9%E8%B1%A1\">field 对象</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#record-%E5%AF%B9%E8%B1%A1\">record 对象</a></p>\n<ul>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#record-values\">record values</a></li>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#record-methods\">record methods</a></li>\n</ul>\n</li>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#transport\">Transport</a></li>\n<li><a href=\"/choerodon-ui/zh/tutorials/dataSet-more/#datatojson\">dataToJSON</a></li>\n</ul>","fields":{"slug":"/zh/tutorials/dataSet-more","readingTime":{"text":"5 min read","time":240899.99999999997}},"frontmatter":{"title":"DataSet 对象详解"},"parent":{"__typename":"File","relativePath":"dataSet-more.zh.md"}},"allMarkdownRemark":{"edges":[{"node":{"fields":{"slug":"/en/tutorials/introduction"},"frontmatter":{"title":"Choerodon UI getting started guide","order":0}}},{"node":{"fields":{"slug":"/zh/tutorials/introduction"},"frontmatter":{"title":"Choerodon UI 入门指南","order":0}}},{"node":{"fields":{"slug":"/en/tutorials/demo-build"},"frontmatter":{"title":"Demo interface construction","order":1}}},{"node":{"fields":{"slug":"/zh/tutorials/demo-build"},"frontmatter":{"title":"Demo 界面搭建","order":1}}},{"node":{"fields":{"slug":"/en/tutorials/dataSet-guide"},"frontmatter":{"title":"What is DataSet","order":2}}},{"node":{"fields":{"slug":"/zh/tutorials/dataSet-guide"},"frontmatter":{"title":"DataSet 是什么","order":2}}},{"node":{"fields":{"slug":"/zh/tutorials/basic"},"frontmatter":{"title":"DataSet 入门","order":3}}},{"node":{"fields":{"slug":"/en/tutorials/basic"},"frontmatter":{"title":"Getting started with DS","order":3}}},{"node":{"fields":{"slug":"/en/tutorials/table"},"frontmatter":{"title":"Development Experience-Simplest Table Implementation","order":4}}},{"node":{"fields":{"slug":"/zh/tutorials/table"},"frontmatter":{"title":"开发体验 —— 最简 Table 实现","order":4}}},{"node":{"fields":{"slug":"/en/tutorials/dataSet-more"},"frontmatter":{"title":"Detailed DataSet Object","order":5}}},{"node":{"fields":{"slug":"/zh/tutorials/dataSet-more"},"frontmatter":{"title":"DataSet 对象详解","order":5}}},{"node":{"fields":{"slug":"/en/tutorials/table-advance"},"frontmatter":{"title":"Table Advanced","order":6}}},{"node":{"fields":{"slug":"/zh/tutorials/table-advance"},"frontmatter":{"title":"Table 进阶","order":6}}},{"node":{"fields":{"slug":"/en/tutorials/form"},"frontmatter":{"title":"Form","order":7}}},{"node":{"fields":{"slug":"/zh/tutorials/form"},"frontmatter":{"title":"Form","order":7}}},{"node":{"fields":{"slug":"/en/tutorials/tree"},"frontmatter":{"title":"Tree","order":8}}},{"node":{"fields":{"slug":"/zh/tutorials/tree"},"frontmatter":{"title":"Tree","order":8}}},{"node":{"fields":{"slug":"/en/tutorials/select"},"frontmatter":{"title":"Select","order":9}}},{"node":{"fields":{"slug":"/zh/tutorials/select"},"frontmatter":{"title":"Select","order":9}}},{"node":{"fields":{"slug":"/zh/tutorials/lov"},"frontmatter":{"title":"Lov","order":10}}},{"node":{"fields":{"slug":"/en/tutorials/lov"},"frontmatter":{"title":"Lov","order":10}}},{"node":{"fields":{"slug":"/zh/tutorials/codearea-theme"},"frontmatter":{"title":"CodeArea 主题资源引用","order":11}}},{"node":{"fields":{"slug":"/en/tutorials/configure"},"frontmatter":{"title":"全局配置","order":11}}},{"node":{"fields":{"slug":"/zh/tutorials/configure"},"frontmatter":{"title":"全局配置","order":11}}},{"node":{"fields":{"slug":"/en/tutorials/codearea-theme"},"frontmatter":{"title":"CodeArea 主题资源引用","order":11}}},{"node":{"fields":{"slug":"/en/tutorials/namesake-property"},"frontmatter":{"title":"同名属性","order":13}}},{"node":{"fields":{"slug":"/zh/tutorials/namesake-property"},"frontmatter":{"title":"同名属性","order":13}}},{"node":{"fields":{"slug":"/en/tutorials/table-loading"},"frontmatter":{"title":"Table 加载动画配置及常见问题说明","order":14}}},{"node":{"fields":{"slug":"/zh/tutorials/table-loading"},"frontmatter":{"title":"Table 加载动画配置及常见问题说明","order":14}}},{"node":{"fields":{"slug":"/zh/tutorials/dynamic-filter-bar-doc"},"frontmatter":{"title":"动态筛选条组件使用场景及属性说明","order":15}}},{"node":{"fields":{"slug":"/en/tutorials/dynamic-filter-bar-doc"},"frontmatter":{"title":"动态筛选条组件使用场景及属性说明","order":15}}},{"node":{"fields":{"slug":"/en/tutorials/table-virtual"},"frontmatter":{"title":"Table 虚拟滚动使用指南","order":15}}},{"node":{"fields":{"slug":"/zh/tutorials/table-virtual"},"frontmatter":{"title":"Table 虚拟滚动使用指南","order":15}}},{"node":{"fields":{"slug":"/zh/tutorials/attachment-upload"},"frontmatter":{"title":"Attachment Upload 选用指南","order":16}}},{"node":{"fields":{"slug":"/en/tutorials/attachment-upload"},"frontmatter":{"title":"Attachment Upload selection guide","order":16}}},{"node":{"fields":{"slug":"/en/tutorials/attachment-usechunk"},"frontmatter":{"title":"Attachment Multipart Upload","order":17}}},{"node":{"fields":{"slug":"/zh/tutorials/attachment-usechunk"},"frontmatter":{"title":"Attachment 分片上传","order":17}}},{"node":{"fields":{"slug":"/en/tutorials/cache-introduction"},"frontmatter":{"title":"组件缓存数据指南","order":17}}},{"node":{"fields":{"slug":"/zh/tutorials/cache-introduction"},"frontmatter":{"title":"组件缓存数据指南","order":17}}},{"node":{"fields":{"slug":"/zh/tutorials/table-select-record"},"frontmatter":{"title":"表格行选择功能教程","order":18}}},{"node":{"fields":{"slug":"/en/tutorials/table-select-record"},"frontmatter":{"title":"表格行选择功能教程","order":18}}},{"node":{"fields":{"slug":"/en/tutorials/table-queryfields"},"frontmatter":{"title":"Table queryFields 属性说明","order":19}}},{"node":{"fields":{"slug":"/zh/tutorials/table-queryfields"},"frontmatter":{"title":"Table queryFields 属性说明","order":19}}},{"node":{"fields":{"slug":"/en/tutorials/intl-field-guide"},"frontmatter":{"title":"多语言组件指南","order":20}}},{"node":{"fields":{"slug":"/zh/tutorials/intl-field-guide"},"frontmatter":{"title":"多语言组件指南","order":20}}}]}},"pageContext":{}},"staticQueryHashes":["3000541721","3000541721","653731124"]}